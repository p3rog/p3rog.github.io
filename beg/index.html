
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ë–µ–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–∫–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            touch-action: none;
            -webkit-user-select: none;
            user-select: none;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #87CEEB, #1E90FF);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .treadmill {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 70%;
            background: #333;
            border-top: 10px solid #555;
        }
        
        .track {
            position: absolute;
            top: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                #444 0px,
                #444 10px,
                #555 10px,
                #555 20px
            );
            transform-origin: center;
        }
        
        .stats {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }
        
        .stats h2 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #333;
        }
        
        .stats p {
            margin: 5px 0;
            font-size: 16px;
        }
        
        .instructions {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            z-index: 20;
            max-width: 80%;
        }
        
        .instructions h2 {
            color: #333;
            margin-bottom: 15px;
        }
        
        .instructions p {
            margin: 10px 0;
            color: #555;
        }
        
        .start-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 18px;
            border-radius: 30px;
            margin-top: 15px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
        }
        
        .start-btn:active {
            transform: scale(0.95);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .runner {
            position: absolute;
            bottom: 30%;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 100px;
            z-index: 5;
            transition: transform 0.1s;
        }
        
        .leg {
            position: absolute;
            width: 10px;
            height: 50px;
            background: #FF6347;
            bottom: 0;
        }
        
        .left-leg {
            left: 15px;
            transform-origin: top;
        }
        
        .right-leg {
            right: 15px;
            transform-origin: top;
        }
        
        .body {
            position: absolute;
            width: 40px;
            height: 60px;
            background: #4682B4;
            bottom: 50px;
            left: 10px;
            border-radius: 20px 20px 0 0;
        }
        
        .head {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #FFDAB9;
            border-radius: 50%;
            bottom: 110px;
            left: 15px;
        }
        
        .controls {
            position: absolute;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 20px;
            z-index: 10;
        }
        
        .control-btn {
            background: rgba(255, 255, 255, 0.8);
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 24px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            cursor: pointer;
        }
        
        .control-btn:active {
            transform: scale(0.95);
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="stats">
            <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–µ–≥–∞</h2>
            <p>–°–∫–æ—Ä–æ—Å—Ç—å: <span id="speed">0</span> –∫–º/—á</p>
            <p>–î–∏—Å—Ç–∞–Ω—Ü–∏—è: <span id="distance">0</span> –º</p>
            <p>–í—Ä–µ–º—è: <span id="time">0:00</span></p>
        </div>
        
        <div class="instructions" id="instructions">
            <h2>–ë–µ–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–∫–∞</h2>
            <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–≤–∞ –ø–∞–ª—å—Ü–∞, —á—Ç–æ–±—ã –±–µ–∂–∞—Ç—å –ø–æ –¥–æ—Ä–æ–∂–∫–µ!</p>
            <p>–ü–µ—Ä–µ–º–µ—â–∞–π—Ç–µ –ø–∞–ª—å—Ü—ã –≤–≤–µ—Ä—Ö –∏ –≤–Ω–∏–∑, –∫–∞–∫ –ø—Ä–∏ –±–µ–≥–µ.</p>
            <button class="start-btn" id="startBtn">–ù–∞—á–∞—Ç—å –±–µ–≥</button>
        </div>
        
        <div class="treadmill">
            <div class="track" id="track"></div>
            <div class="runner">
                <div class="head"></div>
                <div class="body"></div>
                <div class="leg left-leg" id="leftLeg"></div>
                <div class="leg right-leg" id="rightLeg"></div>
            </div>
        </div>
        
        <div class="controls">
            <button class="control-btn" id="pauseBtn">‚è∏Ô∏è</button>
            <button class="control-btn" id="resetBtn">üîÑ</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const track = document.getElementById('track');
            const instructions = document.getElementById('instructions');
            const startBtn = document.getElementById('startBtn');
            const pauseBtn = document.getElementById('pauseBtn');
            const resetBtn = document.getElementById('resetBtn');
            const leftLeg = document.getElementById('leftLeg');
            const rightLeg = document.getElementById('rightLeg');
            const speedElement = document.getElementById('speed');
            const distanceElement = document.getElementById('distance');
            const timeElement = document.getElementById('time');
            
            let isRunning = false;
            let trackPosition = 0;
            let lastTouchY = [0, 0];
            let currentTouchY = [0, 0];
            let speed = 0;
            let distance = 0;
            let startTime = 0;
            let timerInterval;
            let legAnimation = 0;
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            function init() {
                // –î–æ–±–∞–≤–ª—è–µ–º –ª–∏–Ω–∏–∏ –Ω–∞ –¥–æ—Ä–æ–∂–∫—É
                for (let i = 0; i < 20; i++) {
                    const line = document.createElement('div');
                    line.style.position = 'absolute';
                    line.style.width = '100%';
                    line.style.height = '2px';
                    line.style.background = '#fff';
                    line.style.top = `${i * 50}px`;
                    track.appendChild(line);
                }
            }
            
            // –ù–∞—á–∞—Ç—å –±–µ–≥
            function startRunning() {
                isRunning = true;
                instructions.classList.add('hidden');
                startTime = Date.now();
                startTimer();
                animateLegs();
            }
            
            // –ü–∞—É–∑–∞
            function pauseRunning() {
                isRunning = false;
                clearInterval(timerInterval);
                cancelAnimationFrame(legAnimation);
            }
            
            // –°–±—Ä–æ—Å
            function resetRunning() {
                isRunning = false;
                clearInterval(timerInterval);
                cancelAnimationFrame(legAnimation);
                trackPosition = 0;
                speed = 0;
                distance = 0;
                track.style.transform = `translateY(${trackPosition}px)`;
                speedElement.textContent = '0';
                distanceElement.textContent = '0';
                timeElement.textContent = '0:00';
                instructions.classList.remove('hidden');
                leftLeg.style.transform = 'rotate(0deg)';
                rightLeg.style.transform = 'rotate(0deg)';
            }
            
            // –¢–∞–π–º–µ—Ä
            function startTimer() {
                clearInterval(timerInterval);
                timerInterval = setInterval(() => {
                    const elapsed = Math.floor((Date.now() - startTime) / 1000);
                    const minutes = Math.floor(elapsed / 60);
                    const seconds = elapsed % 60;
                    timeElement.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                }, 1000);
            }
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –Ω–æ–≥
            function animateLegs() {
                if (!isRunning) return;
                
                legAnimation = requestAnimationFrame(animateLegs);
                
                // –ü—Ä–æ—Å—Ç–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –Ω–æ–≥ –±–µ–≥—É–Ω–∞
                const time = Date.now() / 200;
                leftLeg.style.transform = `rotate(${Math.sin(time) * 30}deg)`;
                rightLeg.style.transform = `rotate(${Math.sin(time + Math.PI) * 30}deg)`;
            }
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å–∞–Ω–∏–π
            document.addEventListener('touchstart', function(e) {
                if (!isRunning) return;
                
                e.preventDefault();
                
                if (e.touches.length >= 2) {
                    lastTouchY[0] = e.touches[0].clientY;
                    lastTouchY[1] = e.touches[1].clientY;
                }
            });
            
            document.addEventListener('touchmove', function(e) {
                if (!isRunning) return;
                
                e.preventDefault();
                
                if (e.touches.length >= 2) {
                    currentTouchY[0] = e.touches[0].clientY;
                    currentTouchY[1] = e.touches[1].clientY;
                    
                    // –í—ã—á–∏—Å–ª—è–µ–º —Å—Ä–µ–¥–Ω–µ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –¥–≤—É—Ö –ø–∞–ª—å—Ü–µ–≤
                    const deltaY = ((lastTouchY[0] - currentTouchY[0]) + (lastTouchY[1] - currentTouchY[1])) / 2;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –¥–æ—Ä–æ–∂–∫–∏
                    trackPosition += deltaY * 0.5;
                    track.style.transform = `translateY(${trackPosition}px)`;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                    speed = Math.min(20, Math.abs(deltaY) * 0.5);
                    speedElement.textContent = speed.toFixed(1);
                    
                    distance += Math.abs(deltaY) * 0.01;
                    distanceElement.textContent = Math.floor(distance);
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
                    lastTouchY[0] = currentTouchY[0];
                    lastTouchY[1] = currentTouchY[1];
                }
            });
            
            document.addEventListener('touchend', function(e) {
                if (!isRunning) return;
                
                // –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏ –ø–∞–ª—å—Ü–µ–≤
                if (e.touches.length < 2) {
                    speed = 0;
                    speedElement.textContent = '0';
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
            startBtn.addEventListener('click', startRunning);
            pauseBtn.addEventListener('click', pauseRunning);
            resetBtn.addEventListener('click', resetRunning);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            init();
        });
    </script>
</body>
</html>
